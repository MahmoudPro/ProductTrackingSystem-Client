<section class="container mt-3">
    <h2>Add Product</h2>
    <form [formGroup]="productForm" (ngSubmit)="onSubmit()">
        <div class="row mb-3">
            <div class="col">
                <label for="name" class="form-label">Product Name</label>
                <input type="text" name="name" id="name" class="form-control" formControlName="name">
            </div>
            <div class="col">
                <label for="sku" class="form-label">SKU</label>
                <input type="text" name="sku" id="sku" class="form-control" formControlName="sku">
            </div>
        </div>
        <div class="row mb-3">
            <div class="col">
                <label for="price" class="form-label">Price</label>
                <input type="number" name="price" id="price" class="form-control" formControlName="price">
            </div>
            <div class="col">
                <label for="stock" class="form-label">Stock</label>
                <input type="number" name="stock" id="stock" class="form-control" formControlName="stock">
            </div>
        </div>

        <button class="btn btn-primary">Add New Product</button>
    </form>
</section>
<section class="container mt-3">
  @if (successMessage) {
    <div class="alert alert-success">
      {{ successMessage }}
    </div>
  }
</section>
<section class="container mt-3">
    <h2>All Products</h2>
    <table class="table">
        <thead>
            <tr>
                <th>Name</th>
                <th>SKU</th>
                <th>Price</th>
                <th>Stock</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody>
            @for (item of products(); track $index) {
                <tr>
                    <td>{{item.name}}</td>
                    <td>{{item.sku}}</td>
                    <td>{{item.price}}</td>
                    <td>{{item.quantityInStock}}</td>
                    <td>
                        <button class="btn btn-sm btn-warning"
                                [routerLink]="['/update-product', item.id]">
                                Update
                        </button>
                        <button class="btn btn-sm btn-danger ms-2"
                                (click)="deleteProduct(item.id)">
                                Delete
                        </button>
                    </td>
                </tr>
            }
        </tbody>
    </table>
</section>